

// normal tx
// [ [ 'YcTH/Fize+G08qYjDKznav1Hz/dIAAAAAP//z8r//5nTDU5V9iccI1/Xo4UnIhXcqU8zt6kL+M98waMlvgEP',
//     'AQAAAAAAAAAKAAAAAFuwVqEAAAAAAABSCAAAAAAAAAABLwA2eS3yU2Ki3gurgrR5hle0vDY=' ],
//   [ 'YS8ANnkt8lNiot4Lq4K0eYZXtLw2AAAAAP//z8r//5nTDU5V9iccI1/Xo4UnIhXcqU8zt6kL+M98waMlvgEP',
//     'AAAAAAAAAAAKAAAAAFuwVqEAAAAAAABSCAAAAAAAAAABxMf8WLN74bTypiMMrOdq/UfP90g=' ] ]

// with token 
// [ [ 'YS0FFZWqUaKcbtpOrK++eSNFCMp8AAAAAP//z5T//x9usVBHKh70MZV9j+hRdpmUyxDiM8bhR33XhL6NJgKh',
//     'AQAAAAAAAAAAAAAAAFuwV0MAAAAAAACNhwAAABdIdugALwA2eS3yU2Ki3gurgrR5hle0vDY=' ],
//   [ 'YS8ANnkt8lNiot4Lq4K0eYZXtLw2AAAAAP//z5T//x9usVBHKh70MZV9j+hRdpmUyxDiM8bhR33XhL6NJgKh',
//     'AAAAAAAAAAAAAAAAAFuwV0MAAAAAAACNhwAAABdIdugALQUVlapRopxu2k6sr755I0UIynw=' ] ]
// [ [ 'YS0FFZWqUaKcbtpOrK++eSNFCMp8AAAAAP//z5T//x9usVBHKh70MZV9j+hRdpmUyxDiM8bhR33XhL6NJgKh',
//     'AQAAAAAAAAAAAAAAAFuwV0MAAAAAAACNhwAAABdIdugALwA2eS3yU2Ki3gurgrR5hle0vDY=' ],
//   [ 'YS8ANnkt8lNiot4Lq4K0eYZXtLw2AAAAAP//z5T//x9usVBHKh70MZV9j+hRdpmUyxDiM8bhR33XhL6NJgKh',
//     'AAAAAAAAAAAAAAAAAFuwV0MAAAAAAACNhwAAABdIdugALQUVlapRopxu2k6sr755I0UIynw=' ] ]

// { addresses: [ [ [Object], [Object] ], [ [Object], [Object] ] ],
//     gasLimit: 4712388,
//     gasUsed: 36231,
//     miner: '0x0000000000000000000000000000000000000000',
//     number: 12396,
//     timestamp: 1538283331,
//     txNumber: 1,
//     uncleNumber: 0,
//     size: undefined }

// { tx: '0x956c1140ed3150341c346cd97749bbe1425ca3783e74fa50691b17267b0ba55d',
//   receipt: 
//    { blockHash: '0xe6ae294e27ce4cd6cb7e806ef07ceda87b4f4a4b948531ee6480b25844624c59',
//      blockNumber: 12596,
//      contractAddress: null,
//      cumulativeGasUsed: 36231,
//      from: '0x2f0036792df25362a2de0bab82b4798657b4bc36',
//      gasUsed: 36231,
//      logs: [ [Object] ],
//      logsBloom: '0x00000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000202400008000000000000400000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044000000000000000000000000000000',
//      status: '0x1',
//      to: '0x2d051595aa51a29c6eda4eacafbe79234508ca7c',
//      transactionHash: '0x956c1140ed3150341c346cd97749bbe1425ca3783e74fa50691b17267b0ba55d',
//      transactionIndex: 0 },
//   logs: 
//    [ { address: '0x2d051595aa51a29c6eda4eacafbe79234508ca7c',
//        blockNumber: 12596,
//        transactionHash: '0x956c1140ed3150341c346cd97749bbe1425ca3783e74fa50691b17267b0ba55d',
//        transactionIndex: 0,
//        blockHash: '0xe6ae294e27ce4cd6cb7e806ef07ceda87b4f4a4b948531ee6480b25844624c59',
//        logIndex: 0,
//        removed: false,
//        event: 'Transfer',
//        args: [Object] } ]

// {
//   blockHash: "0xc0bc9b319a5d863d414763134d9024856643f70dfe37d3377c4629ebbd4f8b4d",
//   blockNumber: 12461,
//   blockTime: "0x5bc9e005",
//   from: "0x2f0036792df25362a2de0bab82b4798657b4bc36",
//   gas: 90000,
//   gasPrice: 1,
//   hash: "0x632c8b10adb1cd378f49eb7e132678eb18f6b99e3805ffb3d35907f532a4e564",
//   input: "0x",
//   nonce: 45,
//   r: "0xa90f2d9c30828dff76731a31be8ec94a439066ada8a5073192b0ef531ae82eaf",
//   s: "0x2c6fee42e2ac4cf38774c7b10a55a33f526b3728ba02dc09687ae6958362dadf",
//   to: "0xc4c7fc58b37be1b4f2a6230cace76afd47cff748",
//   transactionIndex: 0,
//   v: "0xfe8",
//   value: 10
// }

// [ [ 'YS0FFZWqUaKcbtpOrK++eSNFCMp8AAAAAP//zsz//5VsEUDtMVA0HDRs2XdJu+FCXKN4PnT6UGkbFyZ7C6Vd',
//     'AQAAAAAAAAAAAAAAAFvJ6ZoAAAAAAACNhwAAABdIdugALwA2eS3yU2Ki3gurgrR5hle0vDY=' ],
//   [ 'YS8ANnkt8lNiot4Lq4K0eYZXtLw2AAAAAP//zsz//5VsEUDtMVA0HDRs2XdJu+FCXKN4PnT6UGkbFyZ7C6Vd',
//     'AAAAAAAAAAAAAAAAAFvJ6ZoAAAAAAACNhwAAABdIdugALQUVlapRopxu2k6sr755I0UIynw=' ] ]
// [ [ 'YS0FFZWqUaKcbtpOrK++eSNFCMp8AAAAAP//zsz//5VsEUDtMVA0HDRs2XdJu+FCXKN4PnT6UGkbFyZ7C6Vd',
//     'AQAAAAAAAAAAAAAAAFvJ6ZoAAAAAAACNhwAAABdIdugALwA2eS3yU2Ki3gurgrR5hle0vDY=' ],
//   [ 'YS8ANnkt8lNiot4Lq4K0eYZXtLw2AAAAAP//zsz//5VsEUDtMVA0HDRs2XdJu+FCXKN4PnT6UGkbFyZ7C6Vd',
//     'AAAAAAAAAAAAAAAAAFvJ6ZoAAAAAAACNhwAAABdIdugALQUVlapRopxu2k6sr755I0UIynw=' ] ]

// [ [ 'YS0FFZWqUaKcbtpOrK++eSNFCMp8AAAAAP//zbT//8SA08/zl+kOtGwXOgPYLvmaTceFB2gv0EkV0xY7bNeh',
//     'AQAAAAAAAAAAAAAAAFvJ7RQAAAAAAACNhwAAABdIdugALwA2eS3yU2Ki3gurgrR5hle0vDY=' ],
//   [ 'YS8ANnkt8lNiot4Lq4K0eYZXtLw2AAAAAP//zbT//8SA08/zl+kOtGwXOgPYLvmaTceFB2gv0EkV0xY7bNeh',
//     'AAAAAAAAAAAAAAAAAFvJ7RQAAAAAAACNhwAAABdIdugALQUVlapRopxu2k6sr755I0UIynw=' ] ]
// [ [ 'dC8ANnkt8lNiot4Lq4K0eYZXtLw2LQUVlapRopxu2k6sr755I0UIynwAAAAApDYS7P////8=',
//     'AMTH/Fize+G08qYjDKznav1Hz/dIxIDTz/OX6Q60bBc6A9gu+ZpNx4UHaC/QSRXTFjts16EJ' ],
//   [ 'dMTH/Fize+G08qYjDKznav1Hz/dILQUVlapRopxu2k6sr755I0UIynwAAAAApDYS7P////8=',
//     'AS8ANnkt8lNiot4Lq4K0eYZXtLw2xIDTz/OX6Q60bBc6A9gu+ZpNx4UHaC/QSRXTFjts16EJ' ] ]

var key = 'dC8ANnkt8lNiot4Lq4K0eYZXtLw2LQUVlapRopxu2k6sr755I0UIynwAAAAApDYS7P////8='

  var k = Buffer.from(key, 'base64')
  var val = 'AMTH/Fize+G08qYjDKznav1Hz/dIxIDTz/OX6Q60bBc6A9gu+ZpNx4UHaC/QSRXTFjts16EJ'
  var v = Buffer.from(val, 'base64')

  console.log(k);
  console.log(k.toString('hex'));
  console.log(k.toString("ascii"));

  idx = 0
  prefix = k.slice(idx, idx += 1).toString('ascii')
  addr = k.slice(idx, idx += 20).toString('hex')
  addr2 = k.slice(idx, idx += 20).toString('hex')
  blkNum = k.slice(idx, idx += 8)
  txIndex = k.slice(idx, idx += 2)


  console.log(prefix);
  console.log(addr);
  console.log(addr2);
  console.log(blkNum);
  
  console.log(blkNum.toString('hex'));
  console.log(parseInt(blkNum.toString('hex'), 16));
  console.log(parseInt(txIndex.toString('hex'), 16));
  
  idx = 0
  type = v.slice(0, idx += 1)
  receiver = v.slice(idx, idx += 20)
  txHash = v.slice(idx, idx += 32)
  amount = v.slice(idx)
  
  console.log(parseInt(type.toString('hex'),16));
  console.log(receiver.toString('hex'));
  console.log(txHash.toString('hex'));
  console.log(amount.toString('hex'));
  

function parseTx() {
  var key = 'YcTH/Fize+G08qYjDKznav1Hz/dIAAAAAP//z1P//2MsixCtsc03j0nrfhMmeOsY9rmeOAX/s9NZB/UypOVk'
  var k = Buffer.from(key, 'base64')
  var val = 'AQAAAAAAAAAKAAAAAFvJ4AUAAAAAAABSCAAAAAAAAAABLwA2eS3yU2Ki3gurgrR5hle0vDY='
  var v = Buffer.from(val, 'base64')

  console.log(k);
  console.log(k.toString('hex'));
  console.log(k.toString("ascii"));

  idx = 0
  prefix = k.slice(idx, idx += 1).toString('ascii')
  addr = k.slice(idx, idx += 20).toString('hex')
  blkNum = k.slice(idx, idx += 8)
  txIndex = k.slice(idx, idx += 2)
  txHash = k.slice(idx)


  console.log(prefix);
  console.log(addr);
  console.log(blkNum);
  // block = k.slice(1,9)
  // console.log(block);
  console.log(blkNum.toString('hex'));
  console.log(parseInt(blkNum.toString('hex'), 16));
  console.log(parseInt(txIndex.toString('hex'), 16));
  console.log(txHash.toString('hex'));


  // type-value-blocktime-gasUsed-gasPrice-addr
  idx = 0
  type = v.slice(0, idx += 1)
  amount = v.slice(idx, idx += 8)
  blkTime = v.slice(idx, idx += 8)
  gasUsed = v.slice(idx, idx += 8)
  gasPrice = v.slice(idx, idx += 8)

  console.log(parseInt(type.toString('hex'), 16));
  console.log(amount.toString('hex'));
  console.log(blkTime.toString('hex'));
  console.log(gasUsed.toString('hex'));
  console.log(gasPrice.toString('hex'));
  // var bufInt = (block.readUInt32BE(0) << 8) + block.readUInt32BE(4);
  // console.log(bufInt);

  // max = 4294967296
  //  real = 12396
  // data = 4294954835 = FFFFCF94
  // 61
  // 2d051595aa51a29c6eda4eacafbe79234508ca7c
  // 00000000ffffcf94
  // ffff1f6e
  // b150472a1ef431957d8fe851769994cb10e233c6e1477dd784be8d2602a1
}